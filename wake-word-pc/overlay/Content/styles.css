html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  background: transparent;
  overflow: hidden;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

#root {
  position: fixed;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  --accent: #00ffaa;
  --dim: rgba(0, 0, 0, 0.26);
  --inactive: rgba(255, 255, 255, 0.06);
  --seg-gap: 4px;
  color: white;
}

#backdrop {
  position: fixed;
  inset: 0;
  background: var(--dim);
  opacity: 0;
  transition: opacity 220ms ease;
  pointer-events: none;
}

#root.active #backdrop {
  opacity: 1;
}


/* Center stack (3:2 screens look best with slightly higher center) */
#center {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none;
  transition: opacity 160ms ease;
  transform: translateY(-2.5vh);
}

#root.idle #center {
  opacity: 0;
}

#root.active #center {
  opacity: 1;
}

/* KITT voicebox: 7 columns of discrete segments */
#kitt {
  width: min(1400px, 92vw);
  height: min(520px, 40vh);
  display: flex;
  justify-content: center;
  gap: clamp(14px, 2vw, 28px);
  align-items: flex-end;
}

.col {
  width: clamp(56px, 6.6vw, 112px);
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  gap: var(--seg-gap);
  align-items: stretch;
}

.seg {
  width: 100%;
  height: 12px;
  border-radius: 3px;
  background: rgba(255, 255, 255, 0.04);
  box-shadow: 0 0 0 rgba(0,0,0,0);
  opacity: 0.55;
}

.seg.on {
  background: var(--accent);
  opacity: 0.98;
  filter:
    drop-shadow(0 0 10px var(--accent))
    drop-shadow(0 0 18px var(--accent));
}

.subtitle {
  width: min(1080px, 92vw);
  margin-top: 22px;
  padding: 0;
  background: transparent;
  border: 0;
  box-shadow: none;
  text-align: center;
  font-size: clamp(24px, 2.6vw, 42px);
  line-height: 1.18;
  letter-spacing: 0.2px;
  color: var(--accent);
  /* Heavy layered shadows so it reads over dashboards */
  text-shadow:
    0 1px 0 rgba(0,0,0,0.70),
    0 2px 0 rgba(0,0,0,0.68),
    0 3px 0 rgba(0,0,0,0.66),
    0 6px 12px rgba(0,0,0,0.62),
    0 12px 26px rgba(0,0,0,0.55),
    0 22px 48px rgba(0,0,0,0.42);

  opacity: 0;
  transform: translateY(8px);
  filter: blur(4px);
  transition:
    opacity 240ms cubic-bezier(0.2, 0.85, 0.2, 1),
    transform 240ms cubic-bezier(0.2, 0.85, 0.2, 1),
    filter 240ms cubic-bezier(0.2, 0.85, 0.2, 1);
}

.subtitle.show {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

.subtitle.hide {
  opacity: 0;
  transform: translateY(6px);
  filter: blur(3px);
  transition:
    opacity 220ms cubic-bezier(0.8, 0.05, 0.2, 1),
    transform 220ms cubic-bezier(0.8, 0.05, 0.2, 1),
    filter 220ms cubic-bezier(0.8, 0.05, 0.2, 1);
}

.audio-controls {
  width: min(940px, 92vw);
  margin-top: 18px;
  display: flex;
  justify-content: center;
  gap: 10px;
  pointer-events: auto;
}

.audio-unlock {
  display: none;
  margin-top: 0;
  padding: 6px 10px;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.25);
  background: rgba(0, 0, 0, 0.35);
  color: white;
  cursor: pointer;
}

.audio-err {
  display: none;
  margin-top: 0;
  font-size: 12px;
  opacity: 0.85;
}
